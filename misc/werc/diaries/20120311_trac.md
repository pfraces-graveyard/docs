# enlaces

[1]: https://wiki.archlinux.org/index.php/Gitweb
[1] <https://wiki.archlinux.org/index.php/Gitweb>  
[2]: https://wiki.archlinux.org/index.php/Cgit
[2] <https://wiki.archlinux.org/index.php/Cgit>  
[3]: http://trac.edgewall.org/wiki/TracOnArchLinux
[3] <http://trac.edgewall.org/wiki/TracOnArchLinux>  
[4]: http://trac.edgewall.org/wiki/TracInstall
[4] <http://trac.edgewall.org/wiki/TracInstall>  
[5]: http://trac-hacks.org/wiki/GitPlugin
[5] <http://trac-hacks.org/wiki/GitPlugin>  

# Trac, git, nginx

*   Instalo trac

[[3][]]

    $ sudo pacman -S trac

>   -- Please read <http://trac.edgewall.org/wiki/TracInstall> to install  
>   -- additional requirements  
>   --  
>   -- DB engines are mandatory!!!  

*   Instalo el plugin para usar trac con git

<http://trac-hacks.org/wiki/GitPlugin>

    $ easy_install<tab>

>   easy_install-2.7  easy_install-3.2 

*   elijo la 3.2 por probar... (para trac 0.12 que supongo que es la que tendré)

    $ easy_install-3.2 http://github.com/hvr/trac-git-plugin/tarball/master

>   ERROR DEKETEKAGASDECHUNGO

*   se lo pido por favor

    $ sudo !!

>   sudo easy_install-3.2 http://github.com/hvr/trac-git-plugin/tarball/master  
>   OTRO ERROR DECHUNGOKETEKAGAS

*   pruebo con la versión (supongo que de python) para easy_install

    $ sudo easy_install-2.7 http://github.com/hvr/trac-git-plugin/tarball/master

>   Downloading http://github.com/hvr/trac-git-plugin/tarball/master  
>   Processing master  
>   Running hvr-trac-git-plugin-722342e/setup.py -q bdist_egg --dist-dir /tmp/easy_install-4q6uxF/hvr-trac-git-plugin-722342e/egg-dist-tmp-dGRCeo  
>   zip_safe flag not set; analyzing archive contents...  
>   TracGit 0.12.0.5dev is already the active version in easy-install.pth  
>   
>   **Installed /usr/lib/python2.7/site-packages/TracGit-0.12.0.5dev-py2.7.egg**

*   Al loro que pone [installed].

Y ahora que?

*(el nombre del paquete indica efectivamente que nos referiamos a la versión de python en el nombre del comando a ejecutar easy_install)*

**Prioricemos**

*   elegir un proyecto a versionar
*   crear repositorio git en ella *(mas adelante ya veremos dónde dejamos los repos y el resto de cosas...)*

    **REGLA #1: Primero crear, luego ordenar**

*   hacer un par de revisiones
*   si hay entorno web, probar de poner en nginx un dominio para git
*   sincronizar trac con el proyecto versionado
    *   se puede usar trac con git sin plugins?
    *   consular TracInstall
*   ver el proyecto mediante tracd
*   sustituir tracd por nginx

Voy a ello *(a ver cuánto cumplo...)*

## configurar trac

### 1. elegir proyecto

    mejor no perder tiempo

    $ cd  
    $ mkdir foo  
    $ cd foo  
    $ echo 'hello git world!' > bar.txt  

### 2. crear repositorio git

    <http://book.git-scm.com>  
    <https://wiki.archlinux.org/index.php/Git>  

    $ git init

    >   Initialized empty Git repository in /home/pau/foo/.git/

    [book]

    >   Modify some files, then add their updated contents to the index

    *   creo varios archivos con contenidos absurdos

    $   git add bar.txt quux.txt foobar.txt

    [book]

    >   You are now ready to commit. You can see what is about to be committed  
        using ...

    $   git diff --cached

    >   diff --git a/bar.txt b/bar.txt  
    >   new file mode 100644  
    >   index 0000000..58c579f  
    >   --- /dev/null  
    >   +++ b/bar.txt  
    >   @@ -0,0 +1 @@  
    >   +hello git world!  
    >   diff --git a/foobar.txt b/foobar.txt  
    >   new file mode 100644  
    >   index 0000000..b68a5f3  
    >   --- /dev/null  
    >   +++ b/foobar.txt  
    >   @@ -0,0 +1 @@  
    >   +estoy escuchando avantasia  
    >   diff --git a/quux.txt b/quux.txt  
    >   new file mode 100644  
    >   index 0000000..90bfcb5  
    >   --- /dev/null  
    >   +++ b/quux.txt  
    >   @@ -0,0 +1 @@  
    >   +this is a test  

    [book]

    >   (Without --cached, git diff will show you any changes that you've made 
        but not yet added to the index.)

    >   You can also get a brief summary of the situation with

    $ git status

    >   # On branch master  
    >   #  
    >   # Initial commit  
    >   #  
    >   # Changes to be committed:  
    >   #   (use "git rm --cached <file>..." to unstage)  
    >   #  
    >   #new file:   bar.txt  
    >   #new file:   foobar.txt  
    >   #new file:   quux.txt  
    >   #  

    [book]

    >   Finally, commit your changes
    >   
    >   $ git commit
    >   
    >   Alternatively, instead of running git add beforehand, you can use

    $ git commit -a

    >   
    >   *** Please tell me who you are.
    >   
    >   Run
    >   
    >     git config --global user.email "you@example.com"
    >     git config --global user.name "Your Name"
    >   
    >   to set your account's default identity.
    >   Omit --global to set the identity only in this repository.
    >   
    >   fatal: empty ident  <pau@laptop.(none)> not allowed

    $ git config --global user.email "pau.fraces@gmail.com"  
    $ git config --global user.name "pau fraces"  
    $ git commit -a

    >   [master (root-commit) f6a9d16] Subida inicial  
    >   3 files changed, 3 insertions(+)  
    >   create mode 100644 bar.txt  
    >   create mode 100644 foobar.txt  
    >   create mode 100644 quux.txt  

    [book]

    >   ... which will automatically notice any modified (but not new) files, 
        add them to the index, and commit, all in one step

    Es decir

        $ git commit -a
        para subir modificaciones al repo

        $ git add <file>
        para agregar un fichero al control de versiones 

### 3. hacer un par de revisiones

### 4. probar entorno web y configurar nginx
    Pruebo primero con gitweb.  
    Otras opciones: cgit    
<https://wiki.archlinux.org/index.php/Gitweb>  
<https://wiki.archlinux.org/index.php/Cgit>  

    $ sudo ln -s /usr/share/gitweb /srv/http/gitweb

    [/etc/hosts]

        127.0.0.1 wiki.domain.com playground.domain.com **source.domain.com**

    [/etc/nginx/conf/nginx.conf]

        server {  
            listen 80;  
            serve

