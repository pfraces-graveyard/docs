# enlaces

[1]: http://trac.edgewall.org/wiki/TracFastCgi#SimpleNginxConfiguration
[1] <http://trac.edgewall.org/wiki/TracFastCgi#SimpleNginxConfiguration>  
[2]: http://trac.edgewall.org/wiki/TracNginxRecipe
[2] <http://trac.edgewall.org/wiki/TracNginxRecipe>  
[3]: http://trac.edgewall.org/wiki/TracInstall#CreatingaProjectEnvironment
[3] <http://trac.edgewall.org/wiki/TracInstall#CreatingaProjectEnvironment>  
[4]: http://trac-hacks.org/wiki/GitPlugin
[4] <http://trac-hacks.org/wiki/GitPlugin>  
[5]: http://www.linuxquestions.org/questions/linux-software-2/having-trouble-getting-trac-working-with-git-704010/
[5] <http://www.linuxquestions.org/questions/linux-software-2/having-trouble-getting-trac-working-with-git-704010/>  
[6]: http://localhost:8000
[6] <http://localhost:8000>  
[7]: http://trac.edgewall.org/wiki/TracInstall
[7] <http://trac.edgewall.org/wiki/TracInstall>  

# pendiente de sesiones anteriores ...

1.  sincronizar trac con el proyecto versionado 
2.  ver el proyecto mediante tracd
3.  sustituir tracd por nginx  
    [[1][]]  
    [[2][]]  

# trac, git, nginx

## sincronizar trac con el proyecto versionado

[[3][]]  
[[4][]]  

### [[7][]] Creating a Project Environment

A Trac environment is the backend storage where Trac stores information like wiki pages, tickets, reports, settings, etc. An environment is basically a directory that contains a human-readable configuration file, and various other files and directories.

A new environment is created using trac-admin:

        $ trac-admin /path/to/myproject initenv

Al lío

        $ sudo mkdir -p /srv/http/trac/foo  

> Trac preguntará primero unas cuestiones sobre su entorno  
> para inicializar y preparar la base de datos del proyecto.  
>  
>  Por favor, introduzca el nombre de su proyecto.  
>  Este nombre será usado en los títulos y descripciones de las páginas.  
>  
> Nombre del proyecto [My Project]> **foo**  
>  Por favor, especifique la cadena de conexión a la base de datos a usar.  
>  Por defecto, se creará una base de datos SQLite local en el directorio  
>  del entorno. También es posible usar una base de datos PostgreSQL existente  
>  (mire la documentación de Trac para la sintaxis exacta de la cadena de  
>  conexión.  
>  
> Cadena de conexión a la base de datos [sqlite:db/trac.db]> *(default)*  
>  
> El entorno del proyecto para 'foo' se creó con éxito.  
>  
> Ahora puede configurar el entorno editando el fichero:  
>  
>  /srv/http/trac/foo/conf/trac.ini  
>  
> Si desea hacer pruebas del entorno del proyecto,  
> pruebe a ejecutar el servidor de web independiente de Trac, `tracd`:  
>  
>   tracd --port 8000 /srv/http/trac/foo  
>  
> Apunte su navegador a http://localhost:8000/foo.  
> Allí también podrá hojear la documentación de su versión instalada  
> de Trac, incluyendo información de instalación más amplia (como  
> el despliegue de Trac en un servidor real).  
>  
> La documentación más actual también puede ser encontrada en el sitio  
> web del proyecto:  
>  
>  <http://trac.edgewall.org/>  
>  
> ¡Enhorabuena!  

        $ sudo tracd --port 8000 /srv/http/trac/foo

[[4][]]

En /srv/http/trac/foo/conf/trac.ini

        [trac]  
        # simple single-repository configuration  
        repository_dir = /srv/http/git/foo/.git  
        repository_type = git  

[[7][]]

> After adding a repository, the cache for that repository must be
> re-synchronized once with the trac-admin $ENV repository resync command. 

        $ sudo trac-admin /srv/http/trac/foo repository resync "*"
        > Hecho.

[[6][]]

Error

TracError: The Trac Environment needs to be upgraded.

Run "trac-admin /srv/http/trac/foo upgrade"

        $ sudo trac-admin /srv/http/trac/foo upgrade

Upgrade Notice

The ticket Workflow is now configurable.

Your environment has been upgraded, but configured to use the original
workflow. It is recommended that you look at changing this configuration to use
basic-workflow. 

Read TracWorkflow for more information (don't forget to 'wiki upgrade' as well)


Actualización realizada.

Puede querer actualizar la documentación de Trac ahora ejecutando:

  trac-admin /srv/http/trac/foo wiki upgrade

        $ sudo trac-admin /srv/http/trac/foo wiki upgrade

[[6][]]

Aviso: No se puede sincronizar con el repositorio "(default)" (Sistema de control de versiones "git" no soportado: No es posible encontrar un componente apropiado, quizá el plugin correspondiente no esté habilitado.). Revise el fichero de seguimiento de Trac para más información.

[[4][]]

Its is important that your git user have access to read the trac.ini and his directory, and also modify access to the trac.db file and his directory as well. This is made by adding the git to the apache2 group (in debian www-data group). If you use log file configured in your trac.ini, it is important that the user have the modify grand also, and the directory as well. 

[[5][]]

Forgot I posted this. If anyone else has the same problem, it was a combination of a permissions issue (all dirs in the repo have to be writable by your web user) & I did have to have the full path to git in the trac.ini file.











